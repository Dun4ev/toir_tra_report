# GEMINI

## 2025-09-30
- Добавлена вкладка CMM с объединённой логикой генерации (модуль `cmm_builder.py`).
- README.md переписан: добавлены разделы про установку, структуру проекта и сценарии GUI.
- Задокументированы требования к каталогу Template, файлу TZ_glob.xlsx и настройкам settings.json.
- Описаны команды для тестирования и упаковки приложения через PyInstaller.

## 2025-09-29
- Добавлена вкладка «Формирование папок» в GUI (`toir_tra_report_v1.py`), использующая новую логику группировки индексов.
- Вынесена функциональность из `toir_tra_index_works.py` в модуль `index_folder_builder.py` с коллбэком статуса и поддержкой выбора каталогов.
- Добавлены pytest-тесты `tests/test_index_folder_builder.py` для проверки группировки и обработки ошибок.

## 2025-09-29 (доработки)
- **Исправление ошибок:** Устранены ошибки в `index_folder_builder.py`, из-за которых файлы с кириллическими символами и сложными индексами не обрабатывались.
- **Копирование/Перемещение:** На вкладку "Формирование папок" добавлена опция выбора между копированием и перемещением файлов. По умолчанию включено копирование.
- **Группировка по суффиксам:** Реализована новая функция для создания родительских папок по суффиксу (`ENK`, `OST` и т.д.) для дополнительной сортировки. Опция включена по умолчанию.
- **Улучшения интерфейса:** На вкладке "Формирование папок" путь к целевой папке стал кликабельной ссылкой, папка назначения автоматически открывается после завершения операции, и ссылка на нее дублируется в статус-баре.
